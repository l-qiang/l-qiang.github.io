---
title: (二)领域模型
date: 2019-12-27 19:56:55
categories:
 - DDD
tags:
 - DDD
 - 领域驱动设计
---

## 什么是领域（Domain）？
> 每个软件程序的目的都是为了执行某项活动，或是满足用户的某种需求。用户把软件程序应用于某个主题区域，这个区域就是软件的领域。

> 领域即是一个组织所做的事情以及其中所包含的一切。商业机构通常会确定一个市场，然后在这个市场中销售产品和服务。每个组织都有它自己的业务范围和做事方式。这个业务范围以及在其中所进行的活动便是领域。 

## 怎么表达领域知识？ 
一个领域可能涉及的知识非常广，信息量很大。**模型**正是解决信息超载问题的工具，它对知识进行有选择的简化和有目的的结构化。

*其实就是用图的方式来表达领域的知识*

> 模型不是图。图的目的是帮助表达和解释模型。

> 设计的重要细节应该在代码中体现出来

> 文档应作为代码和口头交流的补充

> 文档不应再重复表示代码已经明确表达出的内容

## 怎么得到领域模型？
### 知识消化
> 知识消化并非一项孤立的活动，它一般是在开发人员的领导下，由开发人员与领域专家组成的团队共同协作。他们共同收集信息，并通过消化而将它组织为有用的形式。信息的资料来自领域专家头脑中的知识，来自现有系统的用户，也来自技术团队以前在相关遗留系统或同领域的其他项目中积累的经验。

> 模型永远不会是完美的，因为它是一个不断完善的过程。
### 通用语言(UBIQUITOUS LANGUAGE)
为了加强团队成员之间的沟通，项目需要一种公共语言。
> 项目需要一种公共语言，这种语言并不是最简单的、大众化的东西，而是比其强大得多。通过团队的一致努力，领域模型可以成为这种公共语言的核心，同时将团队沟通与软件实现紧密联系到一起。

> UBIQUITOUS LANGUAGE的词汇表包括类名称和主要操作。LANGUAGE中包含术语，有些术语用来讨论模型中已经明确的规则，还有一些术语则来自施加于模型上的高级组织原则。

> 所有开发人员都应该使用基于模型的语言来描述系统中的工件、任务和功能。这个模型应该为开发人员和领域专家提供一种用于相互交流的语言，而且领域专家还应该可以使用这种语言来讨论需求、开发计划和特性。

> 一个团队，一种语言

*其实我们平常开发中就会用到通用语言，只是没有形成规范，个人觉得通用语言还是很重要的*

另外很重要的一点就是：**绑定模型和实现**。
如果实现脱离了模型，就没有意义了。

## 核心领域

> 一个严峻的现实是我们不可能对所有设计部分进行同等的精化，而是必须分出优先级。为了使领域模型成为有价值的资产，必须整齐地梳理出模型的真正核心，并完全根据这个核心来创建应用程序的功能。但本来就稀缺的高水平开发人员往往会把工作重心放在技术基础设施上，或者只是去解决那些不需要专门领域知识就能理解的领域问题。

> 对模型进行提炼。找到核心领域并提供一种易于区分的方法把它与那些起辅助作用的模型和代码分开。最有价值和最专业的概念要轮廓分明。尽量压缩核心领域。

*核心领域是一个相对的概念，你的核心不一定就是别人的核心。*

## 通用子域

> 模型中有些部分除了增加复杂性以外并没有捕捉或传递任何专门的知识。任何外来因素都会使核心领域更难以分辨和理解。模型中包含大量的众所周知的一般原则，或者是专门的细节，这些细节并不是我们的主要关注点，而只是起到支持作用。

> 把内聚的子领域（它们不是项目的动机）识别出来。把这些子领域的通用模型提取出来，并放到单独的模块中。

