<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Feign使用服务名调用微服务 - L-Qiang</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="刘强" /><meta name="description" content="在这之前都是使用@FeignClient，在@FeignClient中的name指定服务名。
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  @FeignClient( name = &amp;#34;file-upload-service&amp;#34;, configuration = FileUploadServiceClient.MultipartSupportConfig.class ) public interface FileUploadServiceClient extends IFileUploadServiceClient { public class MultipartSupportConfig { @Autowired private ObjectFactory&amp;lt;HttpMessageConverters&amp;gt; messageConverters; @Bean public Encoder feignFormEncoder () { return new SpringFormEncoder(new SpringEncoder(messageConverters)); } } }   这种方式有地方不能满足我的要求，于是我就采用了这种方式
" /><meta name="keywords" content="刘强, Java, Spring, MySQL, Blog, Docker, Linux, Redis, Zookeeper" />


<meta name="baidu-site-verification" content="code-aOguXvJrXJ" />
<meta name="google-site-verification" content="q9bP2qBubZQnLPEVZsEaqAVrsSTjpyAvMvA-Rf2VKXA" />


<meta name="generator" content="Hugo 0.90.0 with theme even" />


<link rel="canonical" href="https://blog.l-qiang.xyz/post/feign%E4%BD%BF%E7%94%A8%E6%9C%8D%E5%8A%A1%E5%90%8D%E8%B0%83%E7%94%A8%E5%BE%AE%E6%9C%8D%E5%8A%A1/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">

<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<link href="/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="Feign使用服务名调用微服务" />
<meta property="og:description" content="在这之前都是使用@FeignClient，在@FeignClient中的name指定服务名。


 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16


@FeignClient(
    name = &#34;file-upload-service&#34;,
    configuration = FileUploadServiceClient.MultipartSupportConfig.class
)
public interface FileUploadServiceClient extends IFileUploadServiceClient {
    public class MultipartSupportConfig {
        @Autowired
        private ObjectFactory&lt;HttpMessageConverters&gt; messageConverters;
    

        @Bean
        public Encoder feignFormEncoder () {
        return new SpringFormEncoder(new SpringEncoder(messageConverters));
    }
  }
}


这种方式有地方不能满足我的要求，于是我就采用了这种方式" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://blog.l-qiang.xyz/post/feign%E4%BD%BF%E7%94%A8%E6%9C%8D%E5%8A%A1%E5%90%8D%E8%B0%83%E7%94%A8%E5%BE%AE%E6%9C%8D%E5%8A%A1/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2019-05-22T14:47:28+00:00" />
<meta property="article:modified_time" content="2019-05-22T14:47:28+00:00" />

<meta itemprop="name" content="Feign使用服务名调用微服务">
<meta itemprop="description" content="在这之前都是使用@FeignClient，在@FeignClient中的name指定服务名。


 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16


@FeignClient(
    name = &#34;file-upload-service&#34;,
    configuration = FileUploadServiceClient.MultipartSupportConfig.class
)
public interface FileUploadServiceClient extends IFileUploadServiceClient {
    public class MultipartSupportConfig {
        @Autowired
        private ObjectFactory&lt;HttpMessageConverters&gt; messageConverters;
    

        @Bean
        public Encoder feignFormEncoder () {
        return new SpringFormEncoder(new SpringEncoder(messageConverters));
    }
  }
}


这种方式有地方不能满足我的要求，于是我就采用了这种方式"><meta itemprop="datePublished" content="2019-05-22T14:47:28+00:00" />
<meta itemprop="dateModified" content="2019-05-22T14:47:28+00:00" />
<meta itemprop="wordCount" content="938">
<meta itemprop="keywords" content="Java,Spring Cloud,Feign," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Feign使用服务名调用微服务"/>
<meta name="twitter:description" content="在这之前都是使用@FeignClient，在@FeignClient中的name指定服务名。


 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16


@FeignClient(
    name = &#34;file-upload-service&#34;,
    configuration = FileUploadServiceClient.MultipartSupportConfig.class
)
public interface FileUploadServiceClient extends IFileUploadServiceClient {
    public class MultipartSupportConfig {
        @Autowired
        private ObjectFactory&lt;HttpMessageConverters&gt; messageConverters;
    

        @Bean
        public Encoder feignFormEncoder () {
        return new SpringFormEncoder(new SpringEncoder(messageConverters));
    }
  }
}


这种方式有地方不能满足我的要求，于是我就采用了这种方式"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">L-Qiang</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">首页</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">归档</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">标签</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">分类</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">L-Qiang</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">首页</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">归档</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">标签</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">分类</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">Feign使用服务名调用微服务</h1>

      <div class="post-meta">
        <span class="post-time"> 2019-05-22 </span>
        <div class="post-category">
            <a href="/categories/java/"> Java </a>
            <a href="/categories/spring-cloud/"> Spring Cloud </a>
            </div>
          <span class="more-meta"> 约 938 字 </span>
          <span class="more-meta"> 预计阅读 2 分钟 </span>
        <span id="busuanzi_container_page_pv" class="more-meta"> <span id="busuanzi_value_page_pv"><img src="/img/spinner.svg" alt="spinner.svg"/></span> 次阅读 </span>
      </div>
    </header>

    
    <div class="post-content">
      <p>在这之前都是使用@FeignClient，在@FeignClient中的name指定服务名。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="nd">@FeignClient</span><span class="o">(</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s">&#34;file-upload-service&#34;</span><span class="o">,</span>
    <span class="n">configuration</span> <span class="o">=</span> <span class="n">FileUploadServiceClient</span><span class="o">.</span><span class="na">MultipartSupportConfig</span><span class="o">.</span><span class="na">class</span>
<span class="o">)</span>
<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">FileUploadServiceClient</span> <span class="kd">extends</span> <span class="n">IFileUploadServiceClient</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">class</span> <span class="nc">MultipartSupportConfig</span> <span class="o">{</span>
        <span class="nd">@Autowired</span>
        <span class="kd">private</span> <span class="n">ObjectFactory</span><span class="o">&lt;</span><span class="n">HttpMessageConverters</span><span class="o">&gt;</span> <span class="n">messageConverters</span><span class="o">;</span>
    

        <span class="nd">@Bean</span>
        <span class="kd">public</span> <span class="n">Encoder</span> <span class="nf">feignFormEncoder</span> <span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="n">SpringFormEncoder</span><span class="o">(</span><span class="k">new</span> <span class="n">SpringEncoder</span><span class="o">(</span><span class="n">messageConverters</span><span class="o">));</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>这种方式有地方不能满足我的要求，于是我就采用了这种方式</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">BankService</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">Bank</span> <span class="n">bank</span> <span class="o">=</span> <span class="n">Feign</span><span class="o">.</span><span class="na">builder</span><span class="o">().</span><span class="na">decoder</span><span class="o">(</span>
        <span class="k">new</span> <span class="n">AccountDecoder</span><span class="o">())</span>
        <span class="o">.</span><span class="na">target</span><span class="o">(</span><span class="n">Bank</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="s">&#34;https://api.examplebank.com&#34;</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>一开始，我从github上Feign的示例看到使用服务名代替url的Host部分有个示例</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Example</span> <span class="o">{</span>
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">MyService</span> <span class="n">api</span> <span class="o">=</span> <span class="n">Feign</span><span class="o">.</span><span class="na">builder</span><span class="o">()</span>
          <span class="o">.</span><span class="na">client</span><span class="o">(</span><span class="n">RibbonClient</span><span class="o">.</span><span class="na">create</span><span class="o">())</span>
          <span class="o">.</span><span class="na">target</span><span class="o">(</span><span class="n">MyService</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="s">&#34;https://myAppProd&#34;</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>刚好我这项目也用到了Ribbon，但是在RibbonClient的介绍中看到了这个</p>
<blockquote>
<p>This integration relies on the Feign Target.url() being encoded like https://myAppProd where myAppProd is the ribbon client or loadbalancer name and myAppProd.ribbon.listOfServers configuration is set.</p>
</blockquote>
<p>这个意思是需要设置.ribbon.listOfServers，如果设置这个的话不还是得在配置文件中写IP和端口吗？我觉得不合理，然后查看spring cloud的文档，我看到了</p>
<p><strong>How to Use Ribbon Without Eureka</strong><sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup></p>
<blockquote>
<p>Eureka is a convenient way to abstract the discovery of remote servers so that you do not have to hard code their URLs in clients. However, if you prefer not to use Eureka, Ribbon and Feign also work. Suppose you have declared a <code>@RibbonClient</code> for &ldquo;stores&rdquo;, and Eureka is not in use (and not even on the classpath). The Ribbon client defaults to a configured server list. You can supply the configuration as follows:</p>
<p><strong>application.yml.</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="nt">stores</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="nt">ribbon</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">listOfServers</span><span class="p">:</span><span class="w"> </span><span class="l">example.com,google.com</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div></blockquote>
<p>不使用Eureka的时候才需要设置.ribbon.listOfServers，但是项目是使用Eureka的，应该不需要设置才对，但是不设置的话，用这个方式调用是不行的，根据服务名找不到服务。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="n">MyService</span> <span class="n">api</span> <span class="o">=</span> <span class="n">Feign</span><span class="o">.</span><span class="na">builder</span><span class="o">()</span>
          <span class="o">.</span><span class="na">client</span><span class="o">(</span><span class="n">RibbonClient</span><span class="o">.</span><span class="na">create</span><span class="o">())</span>
          <span class="o">.</span><span class="na">target</span><span class="o">(</span><span class="n">MyService</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="s">&#34;https://myAppProd&#34;</span><span class="o">);</span>
</code></pre></td></tr></table>
</div>
</div><p>但是使用<code>RestTemplate</code>加上<code>@LoadBalanced</code>是没有问题的，通过debug源码，发现使用@LoadBalanced是有个地方会加载服务列表，但是使用Feign的RibbonClient不会。</p>
<p>因为使用<code>@FeignClient</code>的时候是可以找到服务的，说明Feign完全可以支持使用服务名调用，于是我查看Feign中Client的实现有哪些。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">Client - feign
--Default - feign.Client
--LoadBalancerFeignClient - org.springframework.cloud.netflix.feign.ribbon
--RibbonClient - feign.ribbon
</code></pre></td></tr></table>
</div>
</div><p>很好，有个LoadBalancerFeignClient，我猜使用这个就可以达到服务名调用，于是查看怎么实例化这个Client，一搜构造方法的调用就找到了这个</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="nd">@Configuration</span>
<span class="kd">class</span> <span class="nc">DefaultFeignLoadBalancedConfiguration</span> <span class="o">{</span>
    <span class="nd">@Bean</span>
    <span class="nd">@ConditionalOnMissingBean</span>
    <span class="kd">public</span> <span class="n">Client</span> <span class="nf">feignClient</span><span class="o">(</span><span class="n">CachingSpringLoadBalancerFactory</span> <span class="n">cachingFactory</span><span class="o">,</span>
                              <span class="n">SpringClientFactory</span> <span class="n">clientFactory</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="n">LoadBalancerFeignClient</span><span class="o">(</span><span class="k">new</span> <span class="n">Client</span><span class="o">.</span><span class="na">Default</span><span class="o">(</span><span class="kc">null</span><span class="o">,</span> <span class="kc">null</span><span class="o">),</span>
                <span class="n">cachingFactory</span><span class="o">,</span> <span class="n">clientFactory</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>这都实例化好了，所以直接注入就可以使用。</p>
<p>所以，最终解决方法就是：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="nd">@Autowired</span>
    <span class="kd">private</span> <span class="n">Client</span> <span class="n">feignClient</span><span class="o">;</span>
    
    <span class="kd">public</span> <span class="n">Result</span> <span class="nf">test</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">TestApi</span> <span class="n">test</span><span class="o">=</span> <span class="n">Feign</span><span class="o">.</span><span class="na">builder</span><span class="o">()</span>
                               <span class="o">.</span><span class="na">encoder</span><span class="o">(</span><span class="k">new</span> <span class="n">FormEncoder</span><span class="o">(</span><span class="k">new</span> <span class="n">JacksonEncoder</span><span class="o">()))</span>
                               <span class="o">.</span><span class="na">decoder</span><span class="o">(</span><span class="k">new</span> <span class="n">JacksonDecoder</span><span class="o">())</span>
                               <span class="o">.</span><span class="na">client</span><span class="o">(</span><span class="n">feignClient</span><span class="o">)</span>
                               <span class="o">.</span><span class="na">target</span><span class="o">(</span><span class="n">TestApi</span> <span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="s">&#34;http://service-name/&#34;</span><span class="o">);</span>
    <span class="k">return</span> <span class="n">test</span><span class="o">.</span><span class="na">test</span><span class="o">();</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><section class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1" role="doc-endnote">
<p>Spring Cloud 文档 <a href="https://cloud.spring.io/spring-cloud-static/Greenwich.SR4/single/spring-cloud.html#spring-cloud-ribbon-without-eureka">https://cloud.spring.io/spring-cloud-static/Greenwich.SR4/single/spring-cloud.html#spring-cloud-ribbon-without-eureka</a>&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</section>
    </div>

    <div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">文章作者</span>
    <span class="item-content">刘强</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">上次更新</span>
    <span class="item-content">
        2019-05-22
        
    </span>
  </p>
  
  <p class="copyright-item">
    <span class="item-title">许可协议</span>
    <span class="item-content"><a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank">CC BY-NC-ND 4.0</a></span>
  </p>
</div>
<div class="post-reward">
  <input type="checkbox" name="reward" id="reward" hidden />
  <label class="reward-button" for="reward">赞赏支持</label>
  <div class="qr-code">
    
    <label class="qr-code-image" for="reward">
        <img class="image" src="/image/wechat-qr-code.png">
        <span>微信打赏</span>
      </label>
    <label class="qr-code-image" for="reward">
        <img class="image" src="/image/alipay-qr-code.png">
        <span>支付宝打赏</span>
      </label>
  </div>
</div><footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/java/">Java</a>
          <a href="/tags/spring-cloud/">Spring Cloud</a>
          <a href="/tags/feign/">Feign</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/%E5%85%B3%E4%BA%8Eselect2%E5%9C%A8bootstrap%E6%A8%A1%E6%80%81%E6%A1%86%E6%97%A0%E6%B3%95%E8%8E%B7%E5%BE%97%E7%84%A6%E7%82%B9%E9%97%AE%E9%A2%98%E7%9A%84%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">关于Select2在Bootstrap模态框无法获得焦点问题的解决办法</span>
            <span class="prev-text nav-mobile">上一篇</span>
          </a>
        <a class="next" href="/post/java%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD%E6%96%87%E4%BB%B6%E5%90%8D%E5%8C%85%E5%90%AB%E7%89%B9%E6%AE%8A%E5%AD%97%E7%AC%A6%E5%A4%84%E7%90%86/">
            <span class="next-text nav-default">Java文件下载文件名包含特殊字符处理</span>
            <span class="next-text nav-mobile">下一篇</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        <div id="gitalk-container"></div>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js" crossorigin="anonymous"></script>
    <script type="text/javascript">
      var gitalk = new Gitalk({
        id: '2019-05-22 14:47:28 \u002b0000 UTC',
        title: 'Feign使用服务名调用微服务',
        clientID: 'c7698ac0c1888a422ff8',
        clientSecret: '9e95b025bc3dad1fbf7ca56e6086afbe25117805',
        repo: 'BlogGitalk',
        owner: 'l-qiang',
        admin: ['l-qiang'],
        body: decodeURI(location.href)
      });
      gitalk.render('gitalk-container');
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://github.com/gitalk/gitalk">comments powered by gitalk.</a></noscript>

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="mailto:liuqiang.ryan@gmail.com" class="iconfont icon-email" title="email"></a>
      <a href="https://github.com/l-qiang" class="iconfont icon-github" title="github"></a>
  <a href="https://blog.l-qiang.xyz/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    由 <a class="hexo-link" href="https://gohugo.io">Hugo</a> 强力驱动
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    主题 - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  <div class="busuanzi-footer">
    <span id="busuanzi_container_site_pv"> 本站总访问量 <span id="busuanzi_value_site_pv"><img src="/img/spinner.svg" alt="spinner.svg"/></span> 次 </span>
      <span class="division">|</span>
    <span id="busuanzi_container_site_uv"> 本站总访客数 <span id="busuanzi_value_site_uv"><img src="/img/spinner.svg" alt="spinner.svg"/></span> 人 </span>
  </div>

  <span class="copyright-year">
    &copy; 
    2019 - 
    2022<span class="heart"><i class="iconfont icon-heart"></i></span><span>刘强</span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script><script></script><script src="https://cdn.jsdelivr.net/npm/raphael@2.2.7/raphael.min.js" integrity="sha256-67By+NpOtm9ka1R6xpUefeGOY8kWWHHRAKlvaTJ7ONI=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/flowchart.js@1.8.0/release/flowchart.min.js" integrity="sha256-zNGWjubXoY6rb5MnmpBNefO0RgoVYfle9p0tvOQM+6k=" crossorigin="anonymous"></script><script></script><script src="https://cdn.jsdelivr.net/npm/webfontloader@1.6.28/webfontloader.js" integrity="sha256-4O4pS1SH31ZqrSO2A/2QJTVjTPqVe+jnYgOWUVr7EEc=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/snapsvg@0.5.1/dist/snap.svg-min.js" integrity="sha256-oI+elz+sIm+jpn8F/qEspKoKveTc5uKeFHNNVexe6d8=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/underscore@1.8.3/underscore-min.js" integrity="sha256-obZACiHd7gkOk9iIL/pimWMTJ4W/pBsKu+oZnSeBIek=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/gh/bramp/js-sequence-diagrams@2.0.1/dist/sequence-diagram-min.js" integrity="sha384-8748Vn52gHJYJI0XEuPB2QlPVNUkJlJn9tHqKec6J3q2r9l8fvRxrgn/E5ZHV0sP" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/bramp/js-sequence-diagrams@2.0.1/dist/sequence-diagram-min.css" integrity="sha384-6QbLKJMz5dS3adWSeINZe74uSydBGFbnzaAYmp+tKyq60S7H2p6V7g1TysM5lAaF" crossorigin="anonymous">



<script type="text/javascript" src="/js/main.min.c99b103c33d1539acf3025e1913697534542c4a5aa5af0ccc20475ed2863603b.js"></script>


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'G-669K7NHHPY', 'auto');
	ga('set', 'anonymizeIp', true);
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>


<script id="baidu_push">
  (function(){
    if (window.location.hostname === 'localhost') return;
    var bp = document.createElement('script'); bp.async = true;
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
      bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
      bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
  })();
</script>




</body>
</html>
